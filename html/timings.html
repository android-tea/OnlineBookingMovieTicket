<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Timings</title>
    <link rel="stylesheet" href="../css/Timings.css">
    <script src="../js/timings.js"></script>
</head>
<body>

    <div>
        <div class="navbar">
            <!-- Navigation -->
            <div class="nav-left"> 
                <img src="../pics/logo.png" alt="logo" class="logo">
            </div>
            <div class="nav-center">
                <nav>
                    <a href="homepage.html" id="home">Home</a>
                    <a href="schedmenu.html" id="schedule">Schedule</a>
                    <a href="cinemas.html" id="cinemas">Cinemas</a>
                    <a href="eventsandexp.html" id="eventsandexp">Events and Experiences</a>
                </nav>
            </div>
            <div class="nav-right">
                <a href="#notification"><img src="../pics/notif (1).png" id="notifBox" alt="Notifications"></a>
                <a href="profile"><img src="../pics/profile (1).png" id="profileBox" alt="Profile"></a>
            </div>
        </div>
        
        <!-- Main Form -->

        <div>
            
        </div>
        <form id="timingsForm" onsubmit="redirectToConfirmation(event)" class="timings-form">
           <div>
            <div class="timings">
                <h2>Schedule</h2>
                <br>
                <div class="location">
                    <label for="location">Location</label>
                    <select id="location" name="location" required>
                        <option value="">Choose Cinema Location</option>
                        <option value="Taguig City">Taguig City</option>
                        <option value="Tagaytay">Tagaytay</option>
                        <option value="Cavite">Cavite</option>
                        <option value="Bulacan">Bulacan</option>
                        <option value="Makati City">Makati City</option>
                        <option value="Quezon City">Quezon City</option>
                        <option value="Pasig City">Pasig City</option>
                        <option value="Las Piñas">Las Piñas</option>
                        <option value="Parañaque">Parañaque</option>
                        <option value="Marikina">Marikina</option>
                        <option value="Cebu City">Cebu City</option>
                        <option value="Davao City">Davao City</option>
                        <option value="Iloilo City">Iloilo City</option>
                        <option value="Baguio City">Baguio City</option>
                        <option value="Antipolo City">Antipolo City</option>
                        <option value="Muntinlupa">Muntinlupa</option>
                        <option value="San Juan City">San Juan City</option>
                        <option value="Zamboanga City">Zamboanga City</option>
                        <option value="Laoag City">Laoag City</option>
                        <option value="Tarlac City">Tarlac City</option>
                        
                    </select>
                </div>
            
                <!-- Date Selector -->
                <div class="date-bigBox">
                    <label for="Day">Day</label>
                    <select id="Day" name="Day" required>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                    </select>
            
                    <label for="Month">Month</label>
                    <select id="Month" name="Month" required>
                        <option value="December">December</option>
                        <option value="January">January</option>
                        <option value="February">February</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                    </select>
            
                    <label for="Date">Date</label>
                    <select id="Date" name="Date" required>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                    </select>
                </div>
                <br><br>
                <div class="show-time-container">
                    <label>Show Time</label>
                    <div class="show-time-buttons">
                        <button type="button" onclick="setShowTime('9:00 AM')" class="time-option">9:00 AM</button>
                        <button type="button" onclick="setShowTime('12:00 PM')" class="time-option">12:00 PM</button>
                        <button type="button" onclick="setShowTime('3:00 PM')" class="time-option">3:00 PM</button>
                        <button type="button" onclick="setShowTime('4:00 PM')" class="time-option">4:00 PM</button>
                        <button type="button" onclick="setShowTime('5:00 PM')" class="time-option">5:00 PM</button>
                        <button type="button" onclick="setShowTime('6:00 PM')" class="time-option">6:00 PM</button>
                        <button type="button" onclick="setShowTime('7:00 PM')" class="time-option">7:00 PM</button>
                    </div>
                    <input type="hidden" id="showTime" name="showTime" required>


                    
                <div class="seat-type">
                    <label for="seatType">For confirmation of Seat Type: </label>
                    <select id="seatType" name="seatType" onchange="updatePrice()" required>
                        <option value="">Choose Seat Type</option>
                        <option value="350">VIP (₱350)</option>
                        <option value="250">Accessible Seat (₱250)</option>
                        <option value="270">Standard (₱270)</option>
                    </select>
                </div>

                 <!--SELECTING SEAT-->
<div>
    <body2>
        <div class="movie-container">
            <label>Select a Seat(s): </label>
           
       </div>

       <ul class="showcase">
           <li>
               <div class="seat"></div>
               <small>Available</small>
           </li>
           <li>
               <div class="seat selected"> </div>
               <small>Selected</small>
              
           </li>
           <li>
               <div class="seat sold"></div>
               <small>Sold</small>
           </li>
           <li>
             <div class="seat vip"></div>
             <small>VIP</small>
           </li>
           <li>
            <div class="seat accessible"></div>
            <small>Accessible</small>
           </li>
       </ul>

       <div class="container">

           <div class="row VIP">
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
               <div class="seat vip" data-value="350"></div>
           </div>

           
           <div class="row">
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat sold"></div>
           <div class="seat" data-value="270"></div>
           <div class="seat" data-value="270"></div>
           <div class="seat sold"></div>
           </div>

           <div class="row">
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat sold"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat sold"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
        </div>

         
        <div class="row">
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat sold"></div>
            <div class="seat"></div>
            <div class="seat sold"></div>
        </div>

         
        <div class="row">
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat sold"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
            <div class="seat" data-value="270"></div>
        </div>

             
        <div class="row">
            <div class="seat accessible" data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
            <div class="seat accessible"data-value="250"></div>
        </div>

       </div>

       <p class="text">
            <span id="count">0</span> Ticket(s)   P
            <span id="total">P</span>
       </p>

    </body2>
    </div>
        
</div>

 </div>
            </div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
    const container = document.querySelector('.container');
    const seats = document.querySelectorAll('.row .seat:not(.sold)');
    const count = document.getElementById('count');
    const total = document.getElementById('total');
    const seatType = document.getElementById('seatType');
    const showTimeInput = document.getElementById('showTime');

    const seatPrices = { vip: 350, accessible: 250, default: 270 };
    let selectedSeats = [];

    function updateSummary() {
        const seatCount = selectedSeats.length;
        const totalAmount = selectedSeats.reduce((sum, seat) => {
            const type = seat.classList.contains('vip')
                ? 'vip'
                : seat.classList.contains('accessible')
                ? 'accessible'
                : 'default';
            return sum + seatPrices[type];
        }, 0);

        count.textContent = seatCount;
        total.textContent = totalAmount.toLocaleString('en-PH', { style: 'currency', currency: 'PHP' });
    }

    container.addEventListener('click', (e) => {
        if (e.target.classList.contains('seat') && !e.target.classList.contains('sold')) {
            e.target.classList.toggle('selected');
            if (e.target.classList.contains('selected')) {
                selectedSeats.push(e.target);
            } else {
                selectedSeats = selectedSeats.filter((s) => s !== e.target);
            }
            updateSummary();
        }
    });

    seatType.addEventListener('change', () => {
        const selectedSeats = document.querySelectorAll('.row .seat.selected');
        selectedSeats.forEach((seat) => {
            seat.classList.remove('selected');
        });
        selectedSeats.length = 0;
        updateSummary();
    });

    function toggleActive(button) {
        const buttons = button.parentNode.querySelectorAll('button');
        buttons.forEach((btn) => btn.classList.remove('active'));
        button.classList.add('active');
    }

    function setShowTime(time) {
        showTimeInput.value = time;
    }

    window.toggleActive = toggleActive;
    window.setShowTime = setShowTime;

    updateSummary();
});


</script>


            
            
            <!-- Footer -->
            <footer>
                <div class="button-container">
                    <button onclick="location.href='Schedule.html'" class="btn btn-primary">Next</button>
               </div>
            </footer>
        </form>
    </div>

    <script>
        // Set selected showtime in hidden input
        function setShowTime(time) {
            document.getElementById('showTime').value = time;
        }

    function redirectToConfirmation(event) {
        event.preventDefault();

        const location = document.getElementById('location').value;
        const day = document.getElementById('Day').value;
        const month = document.getElementById('Month').value;
        const date = document.getElementById('Date').value;
        const showTime = document.getElementById('showTime').value;
        const price = document.getElementById('seatType').value; // Get the price directly

        const queryString = `?location=${encodeURIComponent(location)}&day=${encodeURIComponent(day)}&month=${encodeURIComponent(month)}&date=${encodeURIComponent(date)}&showTime=${encodeURIComponent(showTime)}&price=${encodeURIComponent(price)}`;
        window.location.href = `test2.html${queryString}`;
        }






















        
    </script>

</body>
</html>
